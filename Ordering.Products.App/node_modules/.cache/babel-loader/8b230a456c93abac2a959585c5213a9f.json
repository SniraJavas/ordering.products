{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\sinikiwe.jumba\\\\Downloads\\\\Ordering.Products\\\\Ordering.Products.App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\sinikiwe.jumba\\\\Downloads\\\\Ordering.Products\\\\Ordering.Products.App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport Item1 from '../../images/laptop_1.jpg';\nimport Item2 from '../../images/laptop_2.jpg';\nimport Item3 from '../../images/laptop_3.jpg';\nimport Item4 from '../../images/laptop_4.jpg';\nimport Item5 from '../../images/laptop_5.jpg';\nimport Item6 from '../../images/laptop_6.jpg';\nimport { setProduct, getProduct, removeProduct, clearAll } from '../../service/ProductStorage';\nimport { getAllProducts, getProductsById } from '../../service/ServiceApi/ProductService';\nimport { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_DELIVERY } from '../actions/action-types/cart-actions';\nvar initState = {\n  items: [{\n    id: 1,\n    title: 'Winter body',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 110,\n    img: Item1\n  }, {\n    id: 2,\n    title: 'Adidas',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 80,\n    img: Item2\n  }, {\n    id: 3,\n    title: 'Vans',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 120,\n    img: Item3\n  }, {\n    id: 4,\n    title: 'White',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 260,\n    img: Item4\n  }, {\n    id: 5,\n    title: 'Cropped-sho',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 160,\n    img: Item5\n  }, {\n    id: 6,\n    title: 'Blues',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 90,\n    img: Item6\n  }],\n  addedItems: [],\n  total: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getAllProducts();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  while (getAllProducts() == null) {\n    //INSIDE HOME COMPONENT\n    if (action.type === ADD_TO_CART) {\n      var addedItem = state.items.find(function (item) {\n        return item.id === action.id;\n      }); //check if the action id exists in the addedItems\n\n      var existed_item = state.addedItems.find(function (item) {\n        return action.id === item.id;\n      });\n\n      if (existed_item) {\n        addedItem.quantity += 1;\n        setProduct(_objectSpread({}, state, {\n          addedItems: _toConsumableArray(state.addedItems),\n          total: state.total + addedItem.price\n        }));\n        return _objectSpread({}, state, {\n          total: state.total + addedItem.price\n        });\n      } else {\n        addedItem.quantity = 1; //calculating the total\n\n        var newTotal = state.total + addedItem.price;\n        setProduct(_objectSpread({}, state, {\n          addedItems: _toConsumableArray(state.addedItems).concat([addedItem]),\n          total: newTotal\n        }));\n        return _objectSpread({}, state, {\n          addedItems: _toConsumableArray(state.addedItems).concat([addedItem]),\n          total: newTotal\n        });\n      }\n    }\n\n    if (action.type === REMOVE_ITEM) {\n      var _ret = function () {\n        var itemToRemove = state.addedItems.find(function (item) {\n          return action.id === item.id;\n        });\n        var new_items = state.addedItems.filter(function (item) {\n          return action.id !== item.id;\n        });\n        var addedItemsArray = getProduct().addedItems;\n        var updatedArray = [];\n        var addedItem = state.items.find(function (item) {\n          return item.id === action.id;\n        });\n        var itemTobeDelete = addedItemsArray.find(function (item) {\n          return item.id == item.id;\n        });\n\n        var index = _toConsumableArray(state.addedItems).indexOf(itemTobeDelete);\n\n        addedItemsArray.forEach(function (element) {\n          if (element != itemTobeDelete) {\n            updatedArray.push(element);\n          }\n        });\n\n        _toConsumableArray(addedItemsArray).splice(index, 1);\n\n        setProduct(_objectSpread({}, state, {\n          addedItems: updatedArray.concat(),\n          total: getProduct().total - itemTobeDelete.price * itemTobeDelete.quantity\n        })); //calculating the total\n\n        var newTotal = state.total - itemTobeDelete.price * itemTobeDelete.quantity; // console.log(itemToRemove)\n\n        return {\n          v: _objectSpread({}, state, {\n            addedItems: new_items,\n            total: newTotal\n          })\n        };\n      }();\n\n      if (typeof _ret === \"object\") return _ret.v;\n    } //INSIDE CART COMPONENT\n\n\n    if (action.type === ADD_QUANTITY) {\n      var _ret2 = function () {\n        var addedItem = state.items.find(function (item) {\n          return item.id === action.id;\n        });\n        var updatedArray = [];\n        var addedItemsArray = getProduct().addedItems;\n        var itemTobeAdded = addedItemsArray.find(function (item) {\n          return item.id == item.id;\n        });\n        itemTobeAdded.quantity += 1;\n        var newTotal = getProduct().total + itemTobeAdded.price;\n        addedItemsArray.forEach(function (element) {\n          if (element == itemTobeAdded) {\n            element.quantity += 1;\n            updatedArray.push(element);\n          } else {\n            updatedArray.push(element);\n          }\n        });\n        setProduct(_objectSpread({}, state, {\n          addedItems: updatedArray.concat(),\n          total: newTotal\n        }));\n        return {\n          v: _objectSpread({}, state, {\n            total: newTotal\n          })\n        };\n      }();\n\n      if (typeof _ret2 === \"object\") return _ret2.v;\n    }\n\n    if (action.type === SUB_QUANTITY) {\n      var _ret3 = function () {\n        var addedItem = state.items.find(function (item) {\n          return item.id === action.id;\n        }); //if the qt == 0 then it should be removed\n\n        var updatedArray = [];\n\n        if (addedItem.quantity === 1) {\n          var new_items = state.addedItems.filter(function (item) {\n            return item.id !== action.id;\n          });\n\n          var _newTotal = state.total - addedItem.price;\n\n          return {\n            v: _objectSpread({}, state, {\n              addedItems: new_items,\n              total: _newTotal\n            })\n          };\n        } else {\n          var addedItemsArray = getProduct().addedItems;\n          var itemTobeMinus = addedItemsArray.find(function (item) {\n            return item.id == item.id;\n          });\n\n          var _newTotal2 = getProduct().total - itemTobeMinus.price;\n\n          addedItemsArray.forEach(function (element) {\n            if (element == itemTobeMinus) {\n              element.quantity -= 1;\n              updatedArray.push(element);\n            } else {\n              updatedArray.push(element);\n            }\n          });\n          setProduct(_objectSpread({}, state, {\n            addedItems: updatedArray.concat(),\n            total: _newTotal2\n          }));\n          return {\n            v: _objectSpread({}, state, {\n              total: _newTotal2\n            })\n          };\n        }\n      }();\n\n      if (typeof _ret3 === \"object\") return _ret3.v;\n    }\n\n    if (action.type === ADD_DELIVERY) {\n      return _objectSpread({}, state, {\n        total: state.total + 6\n      });\n    }\n\n    if (action.type === 'SUB_DELIVERY') {\n      return _objectSpread({}, state, {\n        total: state.total - 6\n      });\n    } else {\n      return state;\n    }\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:\\Users\\sinikiwe.jumba\\Downloads\\Ordering.Products\\Ordering.Products.App\\src\\redux\\reducers\\cartReducer.js"],"names":["Item1","Item2","Item3","Item4","Item5","Item6","setProduct","getProduct","removeProduct","clearAll","getAllProducts","getProductsById","ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_DELIVERY","initState","items","id","title","desc","price","img","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","quantity","newTotal","itemToRemove","new_items","filter","addedItemsArray","updatedArray","itemTobeDelete","index","indexOf","forEach","element","push","splice","itemTobeAdded","itemTobeMinus"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,2BAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,SAAQC,UAAR,EAAoBC,UAApB,EAA+BC,aAA/B,EAA8CC,QAA9C,QAA6D,8BAA7D;AACA,SAAQC,cAAR,EAAuBC,eAAvB,QAA6C,yCAA7C;AACA,SAASC,WAAT,EAAqBC,WAArB,EAAiCC,YAAjC,EAA8CC,YAA9C,EAA2DC,YAA3D,QAA+E,sCAA/E;AAEA,IAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE,CACH;AAACC,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,aAAZ;AAA2BC,IAAAA,IAAI,EAAE,sEAAjC;AAAyGC,IAAAA,KAAK,EAAC,GAA/G;AAAmHC,IAAAA,GAAG,EAACvB;AAAvH,GADG,EAEH;AAACmB,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,QAAZ;AAAsBC,IAAAA,IAAI,EAAE,sEAA5B;AAAoGC,IAAAA,KAAK,EAAC,EAA1G;AAA6GC,IAAAA,GAAG,EAAEtB;AAAlH,GAFG,EAGH;AAACkB,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,MAAZ;AAAoBC,IAAAA,IAAI,EAAE,sEAA1B;AAAiGC,IAAAA,KAAK,EAAC,GAAvG;AAA2GC,IAAAA,GAAG,EAAErB;AAAhH,GAHG,EAIH;AAACiB,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,OAAZ;AAAqBC,IAAAA,IAAI,EAAE,sEAA3B;AAAmGC,IAAAA,KAAK,EAAC,GAAzG;AAA6GC,IAAAA,GAAG,EAACpB;AAAjH,GAJG,EAKH;AAACgB,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,aAAZ;AAA2BC,IAAAA,IAAI,EAAE,sEAAjC;AAAyGC,IAAAA,KAAK,EAAC,GAA/G;AAAmHC,IAAAA,GAAG,EAAEnB;AAAxH,GALG,EAMH;AAACe,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,OAAZ;AAAqBC,IAAAA,IAAI,EAAE,sEAA3B;AAAkGC,IAAAA,KAAK,EAAC,EAAxG;AAA2GC,IAAAA,GAAG,EAAElB;AAAhH,GANG,CADO;AASdmB,EAAAA,UAAU,EAAC,EATG;AAUdC,EAAAA,KAAK,EAAE;AAVO,CAAlB;;AAaA,IAAMC,WAAW,GAAE,SAAbA,WAAa,GAAmC;AAAA,MAAlCC,KAAkC,uEAA1BjB,cAAc,EAAY;AAAA,MAATkB,MAAS;;AAElD,SAAMlB,cAAc,MAAM,IAA1B,EAA+B;AAC3B;AACJ,QAAGkB,MAAM,CAACC,IAAP,KAAgBjB,WAAnB,EAA+B;AAC3B,UAAIkB,SAAS,GAAGH,KAAK,CAACT,KAAN,CAAYa,IAAZ,CAAiB,UAAAC,IAAI;AAAA,eAAGA,IAAI,CAACb,EAAL,KAAYS,MAAM,CAACT,EAAtB;AAAA,OAArB,CAAhB,CAD2B,CAE3B;;AACD,UAAIc,YAAY,GAAEN,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsB,UAAAC,IAAI;AAAA,eAAGJ,MAAM,CAACT,EAAP,KAAca,IAAI,CAACb,EAAtB;AAAA,OAA1B,CAAlB;;AACA,UAAGc,YAAH,EACA;AACGH,QAAAA,SAAS,CAACI,QAAV,IAAsB,CAAtB;AACA5B,QAAAA,UAAU,mBACHqB,KADG;AAENH,UAAAA,UAAU,qBAAMG,KAAK,CAACH,UAAZ,CAFJ;AAGNC,UAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACR;AAHzB,WAAV;AAKC,iCACMK,KADN;AAEIF,UAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACR;AAFnC;AAIJ,OAZA,MAaI;AACDQ,QAAAA,SAAS,CAACI,QAAV,GAAqB,CAArB,CADC,CAED;;AACA,YAAIC,QAAQ,GAAGR,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACR,KAAvC;AACAhB,QAAAA,UAAU,mBACHqB,KADG;AAENH,UAAAA,UAAU,qBAAMG,KAAK,CAACH,UAAZ,UAAwBM,SAAxB,EAFJ;AAGNL,UAAAA,KAAK,EAAGU;AAHF,WAAV;AAMA,iCACOR,KADP;AAEIH,UAAAA,UAAU,qBAAMG,KAAK,CAACH,UAAZ,UAAwBM,SAAxB,EAFd;AAGIL,UAAAA,KAAK,EAAGU;AAHZ;AAMH;AACJ;;AACD,QAAGP,MAAM,CAACC,IAAP,KAAgBhB,WAAnB,EAA+B;AAAA;AAC3B,YAAIuB,YAAY,GAAET,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsB,UAAAC,IAAI;AAAA,iBAAGJ,MAAM,CAACT,EAAP,KAAca,IAAI,CAACb,EAAtB;AAAA,SAA1B,CAAlB;AACA,YAAIkB,SAAS,GAAGV,KAAK,CAACH,UAAN,CAAiBc,MAAjB,CAAwB,UAAAN,IAAI;AAAA,iBAAGJ,MAAM,CAACT,EAAP,KAAca,IAAI,CAACb,EAAtB;AAAA,SAA5B,CAAhB;AAEA,YAAIoB,eAAe,GAAGhC,UAAU,GAAGiB,UAAnC;AACA,YAAIgB,YAAY,GAAG,EAAnB;AACA,YAAIV,SAAS,GAAGH,KAAK,CAACT,KAAN,CAAYa,IAAZ,CAAiB,UAAAC,IAAI;AAAA,iBAAGA,IAAI,CAACb,EAAL,KAAYS,MAAM,CAACT,EAAtB;AAAA,SAArB,CAAhB;AACA,YAAIsB,cAAc,GAAGF,eAAe,CAACR,IAAhB,CAAqB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACb,EAAL,IAAWa,IAAI,CAACb,EAApB;AAAA,SAAzB,CAArB;;AACA,YAAIuB,KAAK,GAAG,mBAAIf,KAAK,CAACH,UAAV,EAAsBmB,OAAtB,CAA8BF,cAA9B,CAAZ;;AACAF,QAAAA,eAAe,CAACK,OAAhB,CAAwB,UAAAC,OAAO,EAAI;AAC/B,cAAGA,OAAO,IAAIJ,cAAd,EAA6B;AACzBD,YAAAA,YAAY,CAACM,IAAb,CAAkBD,OAAlB;AACH;AACJ,SAJD;;AAKA,2BAAIN,eAAJ,EAAqBQ,MAArB,CAA4BL,KAA5B,EAAmC,CAAnC;;AACApC,QAAAA,UAAU,mBACHqB,KADG;AAENH,UAAAA,UAAU,EAAMgB,YAAN,SAFJ;AAGNf,UAAAA,KAAK,EAAElB,UAAU,GAAGkB,KAAb,GAAsBgB,cAAc,CAACnB,KAAf,GAAuBmB,cAAc,CAACP;AAH7D,WAAV,CAf2B,CAqB3B;;AACA,YAAIC,QAAQ,GAAGR,KAAK,CAACF,KAAN,GAAegB,cAAc,CAACnB,KAAf,GAAuBmB,cAAc,CAACP,QAApE,CAtB2B,CAuB3B;;AACA;AAAA,+BACOP,KADP;AAEIH,YAAAA,UAAU,EAAEa,SAFhB;AAGIZ,YAAAA,KAAK,EAAEU;AAHX;AAAA;AAxB2B;;AAAA;AA6B9B,KAlEgC,CAmEjC;;;AACA,QAAGP,MAAM,CAACC,IAAP,KAAed,YAAlB,EAA+B;AAAA;AAC3B,YAAIe,SAAS,GAAGH,KAAK,CAACT,KAAN,CAAYa,IAAZ,CAAiB,UAAAC,IAAI;AAAA,iBAAGA,IAAI,CAACb,EAAL,KAAYS,MAAM,CAACT,EAAtB;AAAA,SAArB,CAAhB;AACA,YAAIqB,YAAY,GAAG,EAAnB;AACA,YAAID,eAAe,GAAGhC,UAAU,GAAGiB,UAAnC;AACA,YAAIwB,aAAa,GAAGT,eAAe,CAACR,IAAhB,CAAqB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACb,EAAL,IAAWa,IAAI,CAACb,EAApB;AAAA,SAAzB,CAApB;AAEC6B,QAAAA,aAAa,CAACd,QAAd,IAA0B,CAA1B;AACC,YAAIC,QAAQ,GAAG5B,UAAU,GAAGkB,KAAb,GAAqBuB,aAAa,CAAC1B,KAAlD;AACAiB,QAAAA,eAAe,CAACK,OAAhB,CAAwB,UAAAC,OAAO,EAAI;AACjC,cAAGA,OAAO,IAAIG,aAAd,EAA4B;AACxBH,YAAAA,OAAO,CAACX,QAAR,IAAmB,CAAnB;AACAM,YAAAA,YAAY,CAACM,IAAb,CAAkBD,OAAlB;AACH,WAHD,MAGK;AACDL,YAAAA,YAAY,CAACM,IAAb,CAAkBD,OAAlB;AACH;AACJ,SAPC;AAQAvC,QAAAA,UAAU,mBACLqB,KADK;AAERH,UAAAA,UAAU,EAAMgB,YAAN,SAFF;AAGRf,UAAAA,KAAK,EAAEU;AAHC,WAAV;AAKA;AAAA,+BACOR,KADP;AAEIF,YAAAA,KAAK,EAAEU;AAFX;AAAA;AArByB;;AAAA;AAyB9B;;AACD,QAAGP,MAAM,CAACC,IAAP,KAAef,YAAlB,EAA+B;AAAA;AAC3B,YAAIgB,SAAS,GAAGH,KAAK,CAACT,KAAN,CAAYa,IAAZ,CAAiB,UAAAC,IAAI;AAAA,iBAAGA,IAAI,CAACb,EAAL,KAAYS,MAAM,CAACT,EAAtB;AAAA,SAArB,CAAhB,CAD2B,CAE3B;;AACA,YAAIqB,YAAY,GAAG,EAAnB;;AACA,YAAGV,SAAS,CAACI,QAAV,KAAuB,CAA1B,EAA4B;AACxB,cAAIG,SAAS,GAAGV,KAAK,CAACH,UAAN,CAAiBc,MAAjB,CAAwB,UAAAN,IAAI;AAAA,mBAAEA,IAAI,CAACb,EAAL,KAAYS,MAAM,CAACT,EAArB;AAAA,WAA5B,CAAhB;;AACA,cAAIgB,SAAQ,GAAGR,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACR,KAAvC;;AACA;AAAA,iCACOK,KADP;AAEIH,cAAAA,UAAU,EAAEa,SAFhB;AAGIZ,cAAAA,KAAK,EAAEU;AAHX;AAAA;AAKH,SARD,MASK;AACD,cAAII,eAAe,GAAGhC,UAAU,GAAGiB,UAAnC;AACJ,cAAIyB,aAAa,GAAGV,eAAe,CAACR,IAAhB,CAAqB,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACb,EAAL,IAAWa,IAAI,CAACb,EAApB;AAAA,WAAzB,CAApB;;AAEE,cAAIgB,UAAQ,GAAG5B,UAAU,GAAGkB,KAAb,GAAqBwB,aAAa,CAAC3B,KAAlD;;AACAiB,UAAAA,eAAe,CAACK,OAAhB,CAAwB,UAAAC,OAAO,EAAI;AACjC,gBAAGA,OAAO,IAAII,aAAd,EAA4B;AACxBJ,cAAAA,OAAO,CAACX,QAAR,IAAmB,CAAnB;AACAM,cAAAA,YAAY,CAACM,IAAb,CAAkBD,OAAlB;AACH,aAHD,MAGK;AACDL,cAAAA,YAAY,CAACM,IAAb,CAAkBD,OAAlB;AACH;AACJ,WAPC;AAQAvC,UAAAA,UAAU,mBACLqB,KADK;AAERH,YAAAA,UAAU,EAAMgB,YAAN,SAFF;AAGRf,YAAAA,KAAK,EAAEU;AAHC,aAAV;AAME;AAAA,iCACOR,KADP;AAEIF,cAAAA,KAAK,EAAEU;AAFX;AAAA;AAIH;AApC0B;;AAAA;AAsC9B;;AAED,QAAGP,MAAM,CAACC,IAAP,KAAeb,YAAlB,EAA+B;AACzB,+BACOW,KADP;AAEIF,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAc;AAFzB;AAIL;;AAED,QAAGG,MAAM,CAACC,IAAP,KAAe,cAAlB,EAAiC;AAC7B,+BACOF,KADP;AAEIF,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAc;AAFzB;AAIL,KALC,MAOE;AACF,aAAOE,KAAP;AACC;AACE;AAEJ,CA3JD;;AA6JA,eAAeD,WAAf","sourcesContent":["import Item1 from '../../images/laptop_1.jpg'\r\nimport Item2 from '../../images/laptop_2.jpg'\r\nimport Item3 from '../../images/laptop_3.jpg'\r\nimport Item4 from '../../images/laptop_4.jpg'\r\nimport Item5 from '../../images/laptop_5.jpg'\r\nimport Item6 from '../../images/laptop_6.jpg'\r\nimport {setProduct, getProduct,removeProduct, clearAll} from '../../service/ProductStorage';\r\nimport {getAllProducts,getProductsById} from '../../service/ServiceApi/ProductService';\r\nimport { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_DELIVERY } from '../actions/action-types/cart-actions'\r\n\r\nconst initState = {\r\n    items: [\r\n        {id:1,title:'Winter body', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\", price:110,img:Item1},\r\n        {id:2,title:'Adidas', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\", price:80,img: Item2},\r\n        {id:3,title:'Vans', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",price:120,img: Item3},\r\n        {id:4,title:'White', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\", price:260,img:Item4},\r\n        {id:5,title:'Cropped-sho', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\", price:160,img: Item5},\r\n        {id:6,title:'Blues', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",price:90,img: Item6}\r\n    ],\r\n    addedItems:[],\r\n    total: 0\r\n\r\n}\r\nconst cartReducer= (state = getAllProducts(),action)=>{\r\n   \r\n    while(getAllProducts() == null){\r\n        //INSIDE HOME COMPONENT\r\n    if(action.type === ADD_TO_CART){\r\n        let addedItem = state.items.find(item=> item.id === action.id)\r\n        //check if the action id exists in the addedItems\r\n       let existed_item= state.addedItems.find(item=> action.id === item.id)\r\n       if(existed_item)\r\n       {\r\n          addedItem.quantity += 1 \r\n          setProduct({\r\n              ...state,\r\n              addedItems: [...state.addedItems],\r\n              total: state.total + addedItem.price \r\n          })\r\n           return{\r\n              ...state,\r\n               total: state.total + addedItem.price \r\n                }\r\n      }\r\n       else{\r\n          addedItem.quantity = 1;\r\n          //calculating the total\r\n          let newTotal = state.total + addedItem.price \r\n          setProduct({\r\n              ...state,\r\n              addedItems: [...state.addedItems, addedItem],\r\n              total : newTotal\r\n          })\r\n\r\n          return{\r\n              ...state,\r\n              addedItems: [...state.addedItems, addedItem],\r\n              total : newTotal\r\n          }\r\n          \r\n      }\r\n  }\r\n  if(action.type === REMOVE_ITEM){\r\n      let itemToRemove= state.addedItems.find(item=> action.id === item.id)\r\n      let new_items = state.addedItems.filter(item=> action.id !== item.id)\r\n\r\n      let addedItemsArray = getProduct().addedItems;\r\n      let updatedArray = [];\r\n      let addedItem = state.items.find(item=> item.id === action.id);\r\n      let itemTobeDelete = addedItemsArray.find(item => item.id == item.id);\r\n      let index = [...state.addedItems].indexOf(itemTobeDelete);\r\n      addedItemsArray.forEach(element => {\r\n          if(element != itemTobeDelete){\r\n              updatedArray.push(element);\r\n          }\r\n      });\r\n      [...addedItemsArray].splice(index, 1)\r\n      setProduct({\r\n          ...state,\r\n          addedItems: [...updatedArray],\r\n          total: getProduct().total - (itemTobeDelete.price * itemTobeDelete.quantity ) \r\n      })\r\n\r\n      //calculating the total\r\n      let newTotal = state.total - (itemTobeDelete.price * itemTobeDelete.quantity )\r\n      // console.log(itemToRemove)\r\n      return{\r\n          ...state,\r\n          addedItems: new_items,\r\n          total: newTotal\r\n      }\r\n  }\r\n  //INSIDE CART COMPONENT\r\n  if(action.type=== ADD_QUANTITY){\r\n      let addedItem = state.items.find(item=> item.id === action.id)\r\n      let updatedArray = [];\r\n      let addedItemsArray = getProduct().addedItems;\r\n      let itemTobeAdded = addedItemsArray.find(item => item.id == item.id);\r\n     \r\n       itemTobeAdded.quantity += 1 \r\n        let newTotal = getProduct().total + itemTobeAdded.price\r\n        addedItemsArray.forEach(element => {\r\n          if(element == itemTobeAdded){\r\n              element.quantity +=1;\r\n              updatedArray.push(element);\r\n          }else{\r\n              updatedArray.push(element);\r\n          }\r\n      });\r\n        setProduct({\r\n          ...state,\r\n          addedItems: [...updatedArray],\r\n          total: newTotal\r\n      })\r\n        return{\r\n            ...state,\r\n            total: newTotal\r\n        }\r\n  }\r\n  if(action.type=== SUB_QUANTITY){  \r\n      let addedItem = state.items.find(item=> item.id === action.id) \r\n      //if the qt == 0 then it should be removed\r\n      let updatedArray = [];\r\n      if(addedItem.quantity === 1){\r\n          let new_items = state.addedItems.filter(item=>item.id !== action.id)\r\n          let newTotal = state.total - addedItem.price\r\n          return{\r\n              ...state,\r\n              addedItems: new_items,\r\n              total: newTotal\r\n          }\r\n      }\r\n      else {\r\n          let addedItemsArray = getProduct().addedItems;\r\n      let itemTobeMinus = addedItemsArray.find(item => item.id == item.id);\r\n\r\n        let newTotal = getProduct().total - itemTobeMinus.price\r\n        addedItemsArray.forEach(element => {\r\n          if(element == itemTobeMinus){\r\n              element.quantity -=1;\r\n              updatedArray.push(element);\r\n          }else{\r\n              updatedArray.push(element);\r\n          }\r\n      });\r\n        setProduct({\r\n          ...state,\r\n          addedItems: [...updatedArray],\r\n          total: newTotal\r\n      })\r\n\r\n          return{\r\n              ...state,\r\n              total: newTotal\r\n          }\r\n      }\r\n      \r\n  }\r\n\r\n  if(action.type=== ADD_DELIVERY){\r\n        return{\r\n            ...state,\r\n            total: state.total + 6\r\n        }\r\n  }\r\n\r\n  if(action.type=== 'SUB_DELIVERY'){\r\n      return{\r\n          ...state,\r\n          total: state.total - 6\r\n      }\r\n}\r\n  \r\nelse{\r\n  return state\r\n  }\r\n    }\r\n    \r\n}\r\n\r\nexport default cartReducer\r\n"]},"metadata":{},"sourceType":"module"}